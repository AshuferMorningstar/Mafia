
@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=IM+Fell+English+SC&display=swap');

.splash-center {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  width: 100vw;
}

.splash-logo-center {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}
/* Old-ink / calligraphic fonts for sliding panels */
:root{
  /* Unified royal red theme */
  --bg: #2b0008;      /* primary red canvas (same as splash) */
  --panel: #1f0006;   /* slightly darker red panel for contrast */
  --splash-bg: #2b0008; /* deep red for the splash screen background */
  --muted: #f3c6c6;   /* muted warm text for secondary elements */
  --accent: #ff4b4b;  /* bright accent red */
  --text: #fff5f5;    /* near-white with warm tint */
}

/* Lock the document to avoid page-level scrolling; allow internal scroll areas only */
html, body, #root {
  height: 100%;
  margin: 0;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  overflow: hidden; /* prevent document scroll */
}

/* Center the splash logo perfectly in the viewport */
.splash-root{
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  width: 100vw;
  background: var(--splash-bg);
  color: var(--text);
  transition: background 360ms ease;
}
/* Logo sizing: wrapper matches image so glow mask aligns exactly */
.splash-logo{width:160px;height:160px;display:block;object-fit:contain}
.splash-logo-wrap{
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 160px;
  height: 160px;
  margin-bottom: 0;
}

.splash-glow{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 160px;
  height: 160px;
  pointer-events: none;
  z-index: 0; /* behind the image which will be z-index:1 */
  animation: glowZoom 3200ms cubic-bezier(.2,.9,.2,1) both;
}
/* ensure the image sits above the glow */
.splash-logo{position:relative;z-index:1; animation: zoomInOut 3200ms cubic-bezier(.2,.9,.2,1) both}
.splash-title{font-family:'Cinzel Decorative',serif;font-size:2.6rem;margin:0 0 6px; transform-origin:50% 50%; animation: zoomInOut 3200ms cubic-bezier(.2,.9,.2,1) both; animation-delay: 120ms}
.splash-sub{color:var(--muted);margin:0; transform-origin:50% 50%; animation: zoomInOut 3200ms cubic-bezier(.2,.9,.2,1) both; animation-delay: 200ms}

@keyframes zoomInOut {
  0% { transform: scale(0.86) }
  45% { transform: scale(1.12) }
  75% { transform: scale(0.98) }
  100% { transform: scale(1) }
}

@keyframes glowZoom {
  0% { transform: translate(-50%, -50%) scale(0.86); filter: blur(6px); opacity: 0.85 }
  45% { transform: translate(-50%, -50%) scale(1.12); filter: blur(12px); opacity: 1 }
  75% { transform: translate(-50%, -50%) scale(0.98); filter: blur(8px); opacity: 0.95 }
  100% { transform: translate(-50%, -50%) scale(1); filter: blur(8px); opacity: 0.95 }
}

/* Enter animation: subtle scale + pulse on glow */
.splash-enter .splash-logo-wrap {
  animation: logoPop 420ms cubic-bezier(.2,.9,.2,1) forwards;
}
.splash-enter .splash-glow {
  animation: glowPulse 1600ms ease-in-out infinite;
  transform-origin: 50% 50%;
}

/* Exit animation: fade out and scale up slightly */
.splash-exit {
  animation: splashFadeOut 600ms ease-in forwards;
}
.logo-exit .splash-logo {
  animation: logoExit 600ms ease-in forwards;
}
.logo-exit .splash-glow {
  animation: glowFade 600ms ease-in forwards;
}

@keyframes logoPop {
  0% { transform: translateY(0) scale(0.92); opacity: 0 }
  60% { transform: translateY(-6px) scale(1.04); opacity: 1 }
  100% { transform: translateY(0) scale(1); opacity: 1 }
}

@keyframes glowPulse {
  0% { filter: blur(6px) saturate(1) opacity(0.9) }
  50% { filter: blur(10px) saturate(1.2) opacity(1) }
  100% { filter: blur(6px) saturate(1) opacity(0.9) }
}

@keyframes splashFadeOut {
  from { opacity: 1 }
  to { opacity: 0 }
}

@keyframes logoExit {
  from { transform: scale(1) translateY(0); opacity: 1 }
  to { transform: scale(1.08) translateY(-8px); opacity: 0 }
}

@keyframes glowFade {
  from { opacity: 1; filter: blur(10px) }
  to { opacity: 0; filter: blur(2px) }
}

.welcome-root{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:var(--splash-bg);color:var(--text);padding:24px;position:relative}
.welcome-logo{width:90px;margin-bottom:18px}
.welcome-title{font-family:'Cinzel Decorative',serif;font-size:2.1rem;margin:0 0 10px}
.welcome-sub{color:var(--muted);margin:0 0 20px}

/* Make the welcome subtitle use the same decorative font and metallic sheen as the title */
.welcome-sub.metallic-gradient, .welcome-sub{
  font-family: 'Cinzel Decorative', serif;
  font-size: 1.05rem;
  line-height: 1.35;
}

/* Metallic / silver gradient for title and subtitle */
.metallic-gradient {
  /* layered metallic gradient + sheen */
  --metal-base: linear-gradient(90deg, #8a8f93 0%, #d6d9db 40%, #ffffff 55%, #cfd3d6 75%, #9da1a4 100%);
  --metal-sheen: linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.85) 45%, rgba(255,255,255,0.0) 60%);

  background-image: var(--metal-base), var(--metal-sheen);
  background-size: 100% 100%, 40% 120%;
  background-position: 0% 0%, -60% 0%;
  background-repeat: no-repeat;

  -webkit-background-clip: text;
  background-clip: text;
  color: transparent; /* fallback hides plain color so gradient shows */
  text-shadow: 0 1px 0 rgba(255,255,255,0.06), 0 6px 18px rgba(0,0,0,0.35);
  position: relative; /* for potential pseudo-element use */
}

/* Ensure subtitle remains readable on dark backgrounds by slightly increasing opacity when clipped */
.metallic-gradient.welcome-sub {
  opacity: 0.95;
}

/* sheen animation */
@keyframes sheenMove {
  from { background-position: 0% 0%, -60% 0% }
  to   { background-position: 0% 0%, 160% 0% }
}

/* apply animation but respect users' reduced motion preference */
.metallic-gradient {
  will-change: background-position;
}
@media (prefers-reduced-motion: no-preference) {
  .metallic-gradient {
    animation: none;
    background-position: 0% 0%, -60% 0%;
    /* use an explicit animation on a background-position change */
    transition: background-position 2.2s linear;
  }
  .metallic-gradient.shine-animated {
    animation: sheenMove 2.2s linear infinite;
  }
}
.welcome-start{
  padding:14px 26px;
  font-size:1.05rem;
  width:100%;
  box-sizing:border-box;
  background: linear-gradient(90deg, #efe6d6 0%, #f6d27a 45%, #b9852b 100%); /* beige -> gold -> bronze */
  color: #2b1f12; /* dark text for readable contrast on gold */
  border: none;
  border-radius:20px;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease;
}

.welcome-actions{display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center;width:100%;max-width:300px}
.welcome-join{
  padding:14px 26px;
  font-size:1.05rem;
  width:100%;
  box-sizing:border-box;
  background: linear-gradient(90deg, #f6ecd8 0%, #f4d57e 45%, #c7983a 100%); /* slightly lighter variant */
  color: #2b1f12;
  border: none;
  border-radius:20px;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.18);
  transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease;
}

.welcome-start:hover, .welcome-join:hover{transform: translateY(-3px);filter:brightness(1.03)}
.welcome-start:active, .welcome-join:active{transform: translateY(-1px) scale(0.995)}
.welcome-start:focus-visible, .welcome-join:focus-visible{outline:3px solid rgba(246,210,122,0.25);outline-offset:4px}

/* App layout: side panel (desktop) + top dashboard (mobile) */
.app-layout{display:flex;min-height:100vh;height:100vh;background:var(--bg);color:var(--text)}
.side-panel{width:240px;background:var(--splash-bg);padding:18px;display:flex;flex-direction:column;align-items:flex-start;gap:18px;box-shadow: 6px 0 18px rgba(0,0,0,0.35);transition: box-shadow 180ms ease, transform 180ms ease;position:relative;z-index:2}
.side-panel::before{
  /* invisible sensor extending left so hovering near edge triggers the panel hover */
  content: "";
  position: absolute;
  left: -28px;
  top: 0;
  width: 28px;
  height: 100%;
  pointer-events: auto;
}
.side-panel:hover{box-shadow: 10px 0 30px rgba(0,0,0,0.42);transform: translateX(0)}
.panel-logo{width:40px;height:40px;object-fit:contain}
.panel-brand{display:flex;align-items:center;gap:10px;color:var(--text)}
.panel-title{font-family:'Cinzel Decorative',serif;font-size:2.2rem;margin:0}
.panel-tabs{display:flex;flex-direction:column;gap:12px;width:100%;margin-top:8px}
.panel-tab{display:flex;align-items:center;gap:12px;padding:12px 14px;font-size:1rem;width:100%;box-sizing:border-box;border-radius:16px;border:none;cursor:pointer;font-weight:700;background:linear-gradient(90deg, #efe6d6 0%, #f6d27a 45%, #b9852b 100%);color:#2b1f12;box-shadow:0 6px 18px rgba(0,0,0,0.18);transition:transform 140ms ease,box-shadow 140ms ease,filter 140ms ease}
.panel-tab:hover{transform:translateY(-3px);filter:brightness(1.03)}
.panel-tab:focus-visible{outline:3px solid rgba(246,210,122,0.25);outline-offset:4px}
.panel-tab.active{background:linear-gradient(90deg, #f6ecd8 0%, #f4d57e 45%, #c7983a 100%);color:#2b1f12}
.tab-icon{display:inline-flex;align-items:center;justify-content:center;color:rgba(43,31,18,0.95);}
.tab-label{flex:1;text-align:left}
.panel-footer{margin-top:auto;color:rgba(255,255,255,0.35);font-size:0.85rem}

.app-main{flex:1;display:flex;flex-direction:column;min-height:100vh;height:100%}
.top-dashboard{display:none;align-items:center;justify-content:space-between;padding:12px 18px;background:var(--splash-bg);color:var(--text);border-bottom:1px solid rgba(255,255,255,0.06)}
.dash-title{font-family:'Cinzel Decorative',serif;font-size:1.4rem;margin:0}
.dash-btn{padding:8px 12px;border-radius:12px;border:none;background:var(--accent);color:#072033}

/* hamburger / sandwich menu for top dashboard */
.dash-menu{display:inline-flex;flex-direction:column;gap:4px;align-items:center;justify-content:center;padding:4px;border-radius:8px;border:none;background:transparent;cursor:pointer}
.dash-menu .bar{display:block;width:18px;height:3px;border-radius:2px;position:relative;overflow:hidden;background:transparent}
.dash-menu .bar::before{content:"";position:absolute;inset:0;background-image:var(--metal-base), var(--metal-sheen);background-size:100% 100%,40% 120%;background-position:0% 0%,-60% 0%;background-repeat:no-repeat;transform-origin:left center}
.dash-menu:hover .bar::before{transform:translateX(1.5px)}
/* Remove click/tap focus ring but preserve keyboard focus visibility */
.dash-menu:focus:not(:focus-visible){
  outline: none;
}
.dash-menu:focus-visible {
  outline:3px solid rgba(255,255,255,0.08);
  outline-offset:4px;
}

/* Remove tap highlight and active flash on click/touch for the sandwich menu */
.dash-menu, .dash-menu .bar {
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.dash-menu:active { background: transparent; }

@media (prefers-reduced-motion: no-preference) {
  .dash-menu.shine-animated .bar::before{animation: sheenMove 2.2s linear infinite}
}

/* Popover shown when sandwich menu is toggled */
.menu-popover{position:absolute;right:16px;top:56px;background:var(--panel);color:var(--text);padding:10px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.36);z-index:50;min-width:220px}
.menu-popover .panel-tab{display:flex;padding:10px 12px;border-radius:12px;width:100%;margin:8px 0}

/* Use a warm golden color for sliding panels for better legibility */
.sliding-panel {
  --golden-light: #ffebb6; /* brightest highlight */
  --golden-mid:  #f6d27a; /* mid tone */
  --golden-deep: #b07a2a; /* darker base for depth */
  color: var(--golden-mid);
  /* use readable serif for panel body (headings will use Great Vibes) */
  font-family: 'IM Fell English SC', serif;
}

/* Gold text gradient for headings and emphasized text */
/* Apply same gold gradient to all text inside the panels (brighter highlight -> deeper base) */
 .sliding-panel h1, .sliding-panel h2, .sliding-panel h3, .sliding-panel h4, .sliding-panel h5, .sliding-panel h6 {
   font-family: 'Great Vibes', cursive;
   background-image: linear-gradient(180deg, var(--golden-light) 0%, var(--golden-mid) 55%, var(--golden-deep) 100%);
   -webkit-background-clip: text;
   background-clip: text;
   color: transparent;
   text-shadow: 0 1px 0 rgba(0,0,0,0.12);
 }

/* Make body text slightly larger for readability while keeping same gold gradient */
 .sliding-panel p, .sliding-panel li, .sliding-panel span, .sliding-panel a, .sliding-panel blockquote {
   font-family: 'IM Fell English SC', serif;
   font-size: 1.12rem;
   line-height: 1.55;
   color: var(--golden-mid);
   text-shadow: 0 0 0 rgba(0,0,0,0);
 }

/* Calligraphic heading style for a handwritten ink look */
.sliding-panel h3 { font-family: 'Great Vibes', cursive; font-size: 2.2rem; margin: 0 0 8px }
.sliding-panel h4 { font-family: 'Great Vibes', cursive; font-size: 1.45rem; margin: 8px 0 }

/* Parchment background: warm paper base + subtle SVG grain overlay */
.sliding-panel {
  background: linear-gradient(180deg, #efe3c9 0%, #f6ecd8 100%);
  background-blend-mode: multiply;
  padding: 18px;
  border-left: 6px solid rgba(176,122,42,0.12);
  border-radius: 8px 0 0 8px;
  box-shadow: -8px 12px 36px rgba(12,8,6,0.48);
}
.sliding-panel::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'><filter id='f'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/></filter><rect width='100%' height='100%' filter='url(%23f)' opacity='0.06' fill='%23a47f58'/></svg>");
  mix-blend-mode: multiply;
}

/* Sandwich menu popover (top dashboard) should match app panel and remain readable */
.menu-popover {
  background: var(--panel);
  color: var(--text);
  border-radius: 10px;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

/*
  Remove visible focus rings for mouse/touch interactions while keeping
  keyboard focus visible via :focus-visible. This targets common
  interactive controls used in the app (buttons, panel tabs, links).
*/
:where(button, [role="button"], .panel-tab, .panel-tab *, .dash-menu, .welcome-start, .welcome-join):focus:not(:focus-visible) {
  outline: none !important;
  box-shadow: none !important;
}

/* Keep a clear, subtle outline for keyboard users */
:where(button, [role="button"], .panel-tab, .dash-menu, .welcome-start, .welcome-join):focus-visible {
  outline: 3px solid rgba(246,210,122,0.28);
  outline-offset: 4px;
}

/* Globally remove mobile tap highlight for interactive elements */
:where(button, a, [role="button"], .panel-tab, .dash-menu) {
  -webkit-tap-highlight-color: transparent;
}

/* also avoid the transient iOS/Android selection flash when tapping */
:where(button, a, [role="button"], .panel-tab, .dash-menu) { -webkit-user-select: none; -ms-user-select: none; user-select: none; }

/* responsive: hide side panel on small screens and show top dashboard */
@media (max-width: 800px){
  .side-panel{display:none}
  .top-dashboard{display:flex}
  .app-layout{background:var(--splash-bg)}
  .welcome-root{background:transparent;padding:16px}
  .welcome-root .welcome-title{font-size:1.9rem}
}

/* Hide the top dashboard on mobile specifically for the welcome/create/join and lobby pages
   so the action buttons remain visible and are not pushed under the mobile browser chrome. */
@media (max-width: 800px) {
  .page-lobby .top-dashboard,
  .page-create .top-dashboard,
  .page-join .top-dashboard {
    display: none !important;
  }
}

/* Sliding right panel */
.sliding-root{position:fixed;inset:0;pointer-events:none;z-index:120}
.sliding-root.open{pointer-events:auto}
.sliding-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.46);opacity:0;transition:opacity 240ms ease}
.sliding-root.open .sliding-backdrop{opacity:1}
.sliding-panel{position:absolute;right:0;top:0;height:100%;width:380px;max-width:92%;background:var(--panel);color:var(--text);transform:translateX(100%);transition:transform 300ms cubic-bezier(.22,.9,.3,1);box-shadow:-12px 0 36px rgba(0,0,0,0.48);display:flex;flex-direction:column}
.sliding-root.open .sliding-panel{transform:translateX(0)}
.sliding-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,0.04)}
.sliding-title{margin:0;font-family:'Cinzel Decorative',serif;font-size:1.2rem}
.sliding-close{background:transparent;border:none;color:var(--text);font-size:1.05rem;padding:6px 8px;border-radius:8px;cursor:pointer}
.sliding-body{padding:16px;overflow:auto}

/* Hide native scrollbars but keep scrolling functional */
.sliding-body {
  /* for WebKit-based browsers */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE 10+ */
}
.sliding-body::-webkit-scrollbar { display: none; }
.panel-placeholder{color:var(--muted);padding:8px 0}

/* utility: form width used in Create Room page */
.form-width { max-width: 360px; width: 100%; }

/* Ensure form controls use border-box so widths match visually */
.form-width input, .form-width button { box-sizing: border-box; }

/* Visible circular back button used on Create Room */
.back-button {
  position: absolute;
  left: 16px;
  top: 16px;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, #f6d27a 0%, #c7983a 100%);
  color: #2b1f12;
  box-shadow: 0 8px 20px rgba(0,0,0,0.28);
  cursor: pointer;
  font-size: 1.05rem;
}
.back-button:focus-visible{ outline: 3px solid rgba(246,210,122,0.24); outline-offset:3px }

/* Keep the Enter button visually active even when disabled; still non-interactive */
.welcome-start[disabled], .welcome-join[disabled] {
  opacity: 1 !important; /* don't dim */
  filter: none !important;
  cursor: not-allowed;
}
.welcome-start[disabled]:hover, .welcome-join[disabled]:hover {
  transform: none !important; /* no hover lift */
}

/* Remove visual focus ring when clicking/tapping the player name input, but
   preserve keyboard focus outlines using :focus-visible */
#player-name:focus:not(:focus-visible), .form-width input:focus:not(:focus-visible) {
  outline: none !important;
  box-shadow: none !important;
}

/* Additional stronger reset for browsers that may still show an inner ring.
   This disables appearance and any UA focus styling; then we re-enable
   a keyboard-visible outline only when the browser supports :focus-visible. */
#player-name, .form-width input {
  -webkit-appearance: none;
  appearance: none;
  outline: none !important;
  box-shadow: none !important;
}

@supports (selector(:focus-visible)) {
  #player-name:focus-visible, .form-width input:focus-visible {
    outline: 3px solid rgba(246,210,122,0.28);
    outline-offset: 4px;
  }
}

/* back button used on centered pages */
.back-button{
  position:absolute;left:18px;top:18px;display:inline-flex;align-items:center;justify-content:center;
  width:44px;height:44px;border-radius:999px;border:none;cursor:pointer;
  background: linear-gradient(90deg,#efe6d6 0%,#f6d27a 45%,#c7983a 100%);color:#2b1f12;font-weight:700;
  box-shadow: 0 6px 14px rgba(0,0,0,0.28);
}
.back-button:focus-visible{outline:3px solid rgba(246,210,122,0.28);outline-offset:4px}

@media (max-width:640px){
  .sliding-panel{width:320px}
}

/* prevent background scroll when sliding panel is open */
.no-scroll{overflow:hidden}

/* Compact game lobby header and room code layout */
.lobby-root{display:flex;flex-direction:column;gap:12px;padding:18px 20px;box-sizing:border-box;flex:1;min-height:0;max-height:calc(100vh - 40px)}
.lobby-header{display:flex;flex-direction:column;align-items:flex-start;gap:6px;padding:0;margin:0}
.lobby-title{font-family:'Great Vibes', cursive;font-size:1.9rem;margin:0;color:var(--golden-deep)}
.lobby-instruction{margin:0;color:var(--muted);font-size:0.95rem}
.room-code-row{display:flex;align-items:center;gap:10px;margin-top:6px}
.room-code-box{background:linear-gradient(90deg,#f6ecd8 0%,#f4d57e 45%,#c7983a 100%);color:#2b1f12;padding:8px 12px;border-radius:10px;font-weight:800;letter-spacing:2px}
.room-code-box.big{font-size:1.15rem;padding:10px 14px}
.room-code-actions{display:flex;gap:8px}
.circle-icon{width:36px;height:36px;border-radius:999px;border:none;background:rgba(255,255,255,0.06);color:var(--text);display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.circle-icon:focus-visible{outline:3px solid rgba(246,210,122,0.22);outline-offset:3px}

/* Lobby body and content scrolling */
.lobby-body{display:flex;flex-direction:column;gap:12px;flex:1;min-height:0}
.panel-tabs{display:flex;gap:8px}
.tab{padding:8px 12px;border-radius:10px;border:none;background:transparent;color:var(--muted);cursor:pointer}
.tab.active{background:linear-gradient(90deg,#efe6d6 0%,#f6d27a 45%,#b9852b 100%);color:#2b1f12}
.panel-content{display:flex;flex-direction:column;gap:12px;flex:1;min-height:0;overflow:auto}
.players-panel ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.chat-messages{flex:1;min-height:0;overflow:auto;padding:8px 4px}
.chat-input-row{display:flex;gap:8px;padding:8px 0}

.lobby-footer{display:flex;gap:10px;align-items:center;justify-content:flex-end;padding-top:8px}
.lobby-footer.stacked{flex-direction:row}
.start-game{background:linear-gradient(90deg,#4caf50 0%,#2e7d32 100%);color:white;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
.leave-lobby{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 12px;border-radius:10px;cursor:pointer}

/* Empty lobby placeholder (when GameLobby is intentionally stripped) */
.game-lobby-empty{flex:1;min-height:0}

/* Styles for the recreated Mafia Game Lobby (centered hero + card) */
.lobby-centered{display:flex;flex-direction:column;align-items:center;gap:22px;padding:36px 18px;box-sizing:border-box}
.lobby-main-header{text-align:center;color:var(--text);max-width:820px}
.lobby-hero-title{font-family:Inter, sans-serif;font-size:3.2rem;margin:0;color:#f3d7b0}
.lobby-hero-sub{margin:8px 0 18px;color:var(--muted);font-size:1.1rem}
.lobby-roomcode{font-weight:800;color:#f3d7b0;margin-bottom:6px}
.lobby-roomcode .code-text{letter-spacing:2px}

.lobby-card{width:min(820px,92%);background:rgba(0,0,0,0.06);border-radius:18px;padding:18px;box-sizing:border-box;box-shadow:0 12px 36px rgba(0,0,0,0.35);display:flex;flex-direction:column;min-height:520px}
.lobby-card-top{padding:8px 8px 0}
.lobby-tabs{display:flex;gap:18px}
.lobby-tab{flex:1;padding:18px 12px;border-radius:12px;background:transparent;border:none;color:var(--muted);font-weight:700;cursor:pointer}
.lobby-tab.active{background:rgba(255,255,255,0.03);color:#f3d7b0;border-bottom:3px solid rgba(255,255,255,0.07)}

.lobby-card-body{background:rgba(0,0,0,0.03);border-radius:12px;margin-top:12px;padding:18px;flex:1;min-height:320px;overflow:auto}
.lobby-players-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:18px}
.lobby-player-item{padding:14px 12px;border-radius:10px;background:rgba(255,255,255,0.02);color:var(--text);font-size:1.05rem}
.lobby-chat-placeholder{color:var(--muted)}

/* external actions: placed below lobby card, matching card width */
.external-actions{display:flex;gap:14px;margin-top:22px;width:100%;justify-content:center}
.external-actions .lobby-action{flex:1;min-width:160px;padding:16px 18px;border-radius:12px;border:none;cursor:pointer;font-weight:800}
.external-actions .lobby-action.start{background:linear-gradient(90deg,#f6d27a 0%,#c7983a 100%);color:#2b1f12}
.external-actions .lobby-action.close{background:linear-gradient(90deg,#f6ecd8 0%,#f4d57e 45%,#c7983a 100%);color:#2b1f12}

@media (max-width:600px){
  .lobby-hero-title{font-size:2.2rem}
  .lobby-card{padding:12px;border-radius:12px}
  .lobby-tab{padding:12px}
}

/* Buttons container below the lobby card */
.lobby-actions{width:100%;margin-top:18px}

@media (min-width:900px){
  .lobby-card{width:900px}
  .external-actions{width:900px}
  .external-actions{margin-top:28px}
  .external-actions .lobby-action{padding:18px 20px}
}

@media (max-width:899px){
  /* keep buttons side-by-side on narrow screens; allow wrapping if absolutely needed */
  .external-actions{flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:space-between}
  .external-actions .lobby-action{min-width:140px}
}

/* Mobile-specific enhancements: keep buttons visible above mobile chrome, respect safe-area insets,
   and make lobby card and body scrollable within the viewport. */
@media (max-width: 800px) {
  /* Make action buttons sticky at the bottom so they remain visible above browser UI */
  .external-actions{
    position: fixed;
    left: 12px;
    right: 12px;
    bottom: calc(env(safe-area-inset-bottom, 12px) + 10px);
    z-index: 140;
    display:flex;
    gap:12px;
    justify-content:center;
    align-items:center;
    background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.12));
    padding:10px;
    border-radius:12px;
    box-shadow: 0 -10px 30px rgba(0,0,0,0.45);
  }

  /* Slightly smaller buttons on very narrow screens but keep them side-by-side */
  .external-actions .lobby-action{min-width:44%;flex:1;padding:12px 10px}

  /* Ensure the lobby card doesn't get covered by the sticky actions */
  .lobby-card{margin-bottom: calc(env(safe-area-inset-bottom, 12px) + 110px); max-height: calc(100vh - 140px)}

  /* Limit the card body to allow internal scrolling without overflowing the viewport */
  .lobby-card-body{max-height: calc(100vh - 260px); overflow:auto}

  /* Add bottom padding for centered/welcome pages so forms and content stay above the actions */
  .lobby-centered{padding-bottom: calc(env(safe-area-inset-bottom, 12px) + 130px)}
  .welcome-root{padding-bottom: calc(env(safe-area-inset-bottom, 12px) + 90px)}

  /* Make sure inputs and form sections are reachable and content scrolls inside their containers */
  .form-width{padding-bottom:8px}

  /* Reduce large hero text on very small phones to preserve space */
  .lobby-hero-title{font-size:1.9rem}
}
